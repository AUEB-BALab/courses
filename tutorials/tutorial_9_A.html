<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Κανονικές εκφράσεις</title>

    <!-- Bootstrap -->
    <!-- JQuery is required -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="../css/pandoc-syntax.css">
  </head>
  <body>
<h1 id="---">Προγραμματισμός ΙΙ: Κανονικές εκφράσεις</h1>
<p><img src="media/AUEB_logo.jpg" width="425" /> <img src="media/BA_Lab.png" width="425" /></p>
<h1 id="-">Προγραμματισμός ΙΙ</h1>
<h1 id="-">Κανονικές Εκφράσεις</h1>
<ul>
<li><a href="https://www.balab.aueb.gr/stefanos-georgiou.html">Στέφανος Γεωργίου</a><br /></li>
<li><a href="https://www.balab.aueb.gr/konstantinos-kravvaritis.html">Κωνσταντίνος Κραββαρίτης</a></li>
</ul>
<h2 id="--1">Κανονικές Εκφράσεις</h2>
<ul>
<li>Είναι σειρές από χαρακτήρες, αριθμούς και ειδικά σύμβολα που εκφράζουν καθορισμένα πρότυπα βάσει συγκεκριμένης σύνταξης.<br /></li>
<li>Χρησιμοποιούνται για ταυτοποίηση συγκεκριμένων μοτίβων (pattern matching) κανονικών εκφράσεων (regular expressions) σε λέξεις, προτάσεις, αριθμούς, και αρχεία.<br /></li>
<li>Βοηθούν στην αναζήτηση, στην επεξεργασία και στο χειρισμό κειμένου και δεδομένων.</li>
</ul>
<h2 id="--1">Ειδικά Σύμβολα (1)</h2>
<table>
<thead>
<tr class="header">
<th align="center">Μοτίβο</th>
<th align="center">Επεξήγηση</th>
<th align="center">Παράδειγμα</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">[ab]</td>
<td align="center">ταιριάζει κάθε χαρακτήρα μέσα στις αγκύλες</td>
<td align="center">ri[cs]e -&gt; rice ή rise</td>
</tr>
<tr class="even">
<td align="center">abc|adc</td>
<td align="center">ταιριάζει είτε τη μία είτε την άλλη λέξη</td>
<td align="center">man|men -&gt; man ή men</td>
</tr>
<tr class="odd">
<td align="center">^</td>
<td align="center">ταιριάζει το μοτίβο στην αρχή της γραμμής</td>
<td align="center">^What-&gt; What time...</td>
</tr>
<tr class="even">
<td align="center">$</td>
<td align="center">ταιριάζει το μοτίβο στο τέλος της γραμμής</td>
<td align="center">o'clock.$ -&gt; 8 o'clock.</td>
</tr>
<tr class="odd">
<td align="center">?</td>
<td align="center">0 ή 1 εμφάνιση του προηγούμενου μοτίβου</td>
<td align="center">colou?r -&gt; Light blue is my colour</td>
</tr>
</tbody>
</table>
<h2 id="--2">Ειδικά Σύμβολα (2)</h2>
<table>
<thead>
<tr class="header">
<th align="center">Μοτίβο</th>
<th align="center">Επεξήγηση</th>
<th align="center">Παράδειγμα</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">+</td>
<td align="center">1 ή περισσότερες εμφανίσεις του προηγούμενου μοτίβου</td>
<td align="center">[123]+-&gt; 2</td>
</tr>
<tr class="even">
<td align="center">*</td>
<td align="center">0 ή περισσότερες εμφανίσεις του προηγούμενου μοτίβου</td>
<td align="center">[123]*-&gt;456 |<br />| {n} | ταιριάζει ένα συγκεκριμένο αριθμό ψηφίων | 5{3}-&gt; 555 |<br />| {min,max} | ταιριάζει από/μέχρι ένα συγκεκριμένο αριθμό ψηφίων | m{1,5}-&gt;mmmm |<br />| [0-9] | ταιριάζει αριθμούς από 0 έως 9 | [0-9] -&gt; 7 |</td>
</tr>
</tbody>
</table>
<h2 id="--3">Ειδικά Σύμβολα (3)</h2>
<table>
<thead>
<tr class="header">
<th align="center">Μοτίβο</th>
<th align="center">Επεξήγηση</th>
<th align="center">Παράδειγμα</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">[a-zA-Z]</td>
<td align="center">ταιριάζει γράμματα από το a έως το z κεφαλαία και μικρά</td>
<td align="center">[a-zA-Z] -&gt; r</td>
</tr>
<tr class="even">
<td align="center">[^a-z]</td>
<td align="center">δεν ταιριάζει ό,τι υπάρχει μέσα στα άγκυστρα</td>
<td align="center">[^a-z] -&gt; R</td>
</tr>
<tr class="odd">
<td align="center">\n, \t</td>
<td align="center">ταιριάζει χαρακτήρες με backslash</td>
<td align="center">new line\n -&gt; \n</td>
</tr>
<tr class="even">
<td align="center">\w</td>
<td align="center">ταιριάζει γράμματα χαρακτήρες [0-9Α-Ζa-z_]</td>
<td align="center">[\w]\t -&gt; o\t</td>
</tr>
<tr class="odd">
<td align="center">\W</td>
<td align="center">δεν ταιριάζει γράμματα χαρακτήρες [^0-9Α-Ζa-z_]</td>
<td align="center">[\W] -&gt; \n</td>
</tr>
</tbody>
</table>
<h2 id="--4">Ειδικά Σύμβολα (4)</h2>
<table>
<thead>
<tr class="header">
<th align="center">Μοτίβο</th>
<th align="center">Επεξήγηση</th>
<th align="center">Παράδειγμα</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">\s</td>
<td align="center">ταιριάζει whitespace χαρακτήρες όπως [\t\n\r]</td>
<td align="center">a\s -&gt; a (space)</td>
</tr>
<tr class="even">
<td align="center">\S</td>
<td align="center">δεν ταιριάζει whitespace χαρακτήρες όπως [^\t\n\r]</td>
<td align="center">a[^\t\n\r] -&gt; cat</td>
</tr>
<tr class="odd">
<td align="center">.</td>
<td align="center">ταιριάζει οτιδήποτε</td>
<td align="center">.+ -&gt; jdf235!\n</td>
</tr>
</tbody>
</table>
<h2 id="---java">Κανονικές εκφράσεις στη Java</h2>
<ul>
<li>Για τη χρήση κανονικών εκφράσεων στη Java χρησιμοποιείται το java.util.regex API το οποίο διαθέτει 3 βασικές κλάσεις: Pattern, Matcher, και PatternSyntaxException.<br /></li>
<li>Η κλάση String διαθέτει μεθόδους που χρησιμοποιούν κανονικές εκφράσεις<br />(Summary of regular-expression constructs:<br /><a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html">https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html</a>).</li>
</ul>
<h2 id="---string---">Μεθόδοι της κλάσης String για κανονικές εκφράσεις</h2>
<table>
<thead>
<tr class="header">
<th align="center">Τύπος</th>
<th align="center">Όνομα μεθόδου</th>
<th align="center">Περιγραφή</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">boolean</td>
<td align="center">matches(String regex)</td>
<td align="center">επιστρέφει true αν υπάρχει η έκφραση</td>
</tr>
<tr class="even">
<td align="center">String</td>
<td align="center">replaceAll(String regex, String relpacement)</td>
<td align="center">αλλάζει μία έκφραση με μία συγκεκριμένη συμβολοσειρά</td>
</tr>
<tr class="odd">
<td align="center">String[]</td>
<td align="center">split(String regex)</td>
<td align="center">Σπάει μια συμβολοσειρά σε ένα πίνακα από συμβολοσειρές</td>
</tr>
</tbody>
</table>
<h2>Μοτίβα</h2>
<table>
<thead>
<tr class="header">
<th align="center">Τύπος</th>
<th align="center">Όνομα μεθόδου</th>
<th align="center">Περιγραφή</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">static Pattern</td>
<td align="center">compile(String regex)</td>
<td align="center">μεταγλωττίζει την κανονική έκφραση σε μοτίβο</td>
</tr>
<tr class="even">
<td align="center">static Pattern</td>
<td align="center">compile(String regex, int flag)</td>
<td align="center">μεταγλωττίζει την κανονική έκφραση σε μοτίβο με &quot;σημαίες&quot;</td>
</tr>
<tr class="odd">
<td align="center">static Pattern</td>
<td align="center">matches(String regex, CharSequence input)</td>
<td align="center">Προσπαθεί να ταιριάξει το μοτίβο με δεδομένα εισόδου</td>
</tr>
</tbody>
</table>
<h2>Ταιριαστής</h2>
<table>
<thead>
<tr class="header">
<th align="center">Τύπος</th>
<th align="center">Όνομα μεθόδου</th>
<th align="center">Περιγραφή</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">boolean</td>
<td align="center">matches()</td>
<td align="center">προσπαθεί να βρει την εμφάνιση ενός μοτίβου</td>
</tr>
<tr class="even">
<td align="center">int</td>
<td align="center">start()</td>
<td align="center">επιστρέφει την θέση που αρχίζει η έκφραση</td>
</tr>
<tr class="odd">
<td align="center">int</td>
<td align="center">end()</td>
<td align="center">επιστρέφει την θέση που τελειώνει η έκφραση +1</td>
</tr>
<tr class="even">
<td align="center">boolean</td>
<td align="center">find()</td>
<td align="center">ψάχνει εμφανίσεις της κανονικής έκφρασης σε ένα κείμενο</td>
</tr>
</tbody>
</table>
<h2 id="-1">Παράδειγμα (1)</h2>
<pre class="sourceCode java"><code class="sourceCode java"><span class="kw">import java.util.regex.Matcher;</span>
<span class="kw">import java.util.regex.Pattern;</span>
<span class="kw">import java.util.regex.PatternSyntaxException;</span>

<span class="kw">public</span> <span class="kw">class</span> RegexMatchFind {
    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(String[] args) <span class="kw">throws</span> PatternSyntaxException {
        Pattern p = Pattern.<span class="fu">compile</span>(<span class="st">&quot;[</span><span class="ch">\\</span><span class="st">d]{3}&quot;</span>);
        Matcher m = p.<span class="fu">matcher</span>(<span class="st">&quot;a123b&quot;</span>);
        System.<span class="fu">out</span>.<span class="fu">println</span>(m.<span class="fu">find</span>());
        System.<span class="fu">out</span>.<span class="fu">println</span>(m.<span class="fu">matches</span>());
        <span class="dt">boolean</span> b = Pattern.<span class="fu">matches</span>(<span class="st">&quot;[</span><span class="ch">\\</span><span class="st">d]{3}&quot;</span>, <span class="st">&quot;a123b&quot;</span>);
        System.<span class="fu">out</span>.<span class="fu">println</span>(b);

        p = Pattern.<span class="fu">compile</span>(<span class="st">&quot;^[a-z0-9]+$&quot;</span>);
        m = p.<span class="fu">matcher</span>(<span class="st">&quot;123&quot;</span>);
        System.<span class="fu">out</span>.<span class="fu">println</span>(m.<span class="fu">find</span>());
        System.<span class="fu">out</span>.<span class="fu">println</span>(m.<span class="fu">matches</span>());
        <span class="dt">boolean</span> c = Pattern.<span class="fu">matches</span>(<span class="st">&quot;^[a-z0-9]+$&quot;</span>, <span class="st">&quot;123&quot;</span>);
        System.<span class="fu">out</span>.<span class="fu">println</span>(c);
    }
}</code></pre>
<h2 id="-2">Παράδειγμα (2)</h2>
<pre class="sourceCode java"><code class="sourceCode java"><span class="kw">import java.util.regex.Matcher;</span>
<span class="kw">import java.util.regex.Pattern;</span>

<span class="kw">public</span> <span class="kw">class</span> SimpleRegex {
    
    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span>(String args[]) {
        <span class="co">// String for the pattern-matching.</span>
        String line = <span class="st">&quot;New order 567TW.&quot;</span>;
        <span class="co">// Given pattern</span>
        String pattern = <span class="st">&quot;[0-9]+(Q|TW){1,2}.&quot;</span>;

        <span class="co">// Pattern object</span>
        Pattern r = Pattern.<span class="fu">compile</span>(pattern);
        <span class="co">// Matcher object.</span>
        Matcher m = r.<span class="fu">matcher</span>(line);
        
        <span class="co">// Check</span>
        <span class="kw">if</span> (m.<span class="fu">find</span>()) {
            System.<span class="fu">out</span>.<span class="fu">println</span>(m.<span class="fu">group</span>());
        } <span class="kw">else</span> {
            System.<span class="fu">out</span>.<span class="fu">println</span>(<span class="st">&quot;NO MATCH&quot;</span>);
        }

        <span class="co">// Replace m with the given string</span>
        line = m.<span class="fu">replaceAll</span>(<span class="st">&quot;##&quot;</span>);
        System.<span class="fu">out</span>.<span class="fu">println</span>(line);
        
        String line2 = <span class="st">&quot;mesquite in your cellar&quot;</span>;
        System.<span class="fu">out</span>.<span class="fu">println</span>(line2.<span class="fu">replace</span>(&#39;e&#39;, &#39;o&#39;));
    }
}</code></pre>

<hr />
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
  </body>
</html>
